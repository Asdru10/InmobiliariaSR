@model ProyectoInmobilaria.Models.ViewModels.PropiedadVM

@{
    ViewData["Title"] = "Detalles de Propiedad";
}

<div class="container mt-5">
    <div class="card shadow rounded p-4">
        <h2 class="text-center mb-4 text-primary">@Model.Propiedad.Titulo</h2>
        <hr />

        <div class="row">
            <!-- 📋 Características -->
            <div class="col-md-6">
                <dl class="row fs-5">
                    <dt class="col-sm-5">Descripción:</dt>
                    <dd class="col-sm-7">@Model.Propiedad.Descripcion</dd>

                    <dt class="col-sm-5">Precio:</dt>
                    <dd class="col-sm-7">₡@String.Format("{0:N0}", Model.Propiedad.Precio)</dd>

                    <dt class="col-sm-5">Estado:</dt>
                    <dd class="col-sm-7">@Model.Propiedad.Estado</dd>

                    <dt class="col-sm-5">Tipo:</dt>
                    <dd class="col-sm-7">@Model.Propiedad.Tipo</dd>

                    <dt class="col-sm-5">Fecha publicación:</dt>
                    <dd class="col-sm-7">@Model.Propiedad.Fecha_publicacion.ToString("dd/MM/yyyy")</dd>

                    @* <dt class="col-sm-5">Likes:</dt>
                    <dd class="col-sm-7">@Model.Propiedad.Likes</dd> *@
                </dl>
            </div>

            <!-- 🖼️ Carrusel de imágenes -->
            <div class="col-md-6">
                @if (Model.URLs != null && Model.URLs.Any())
                {
                    <div id="carouselFotos" class="carousel slide mb-4 shadow-sm border rounded" data-bs-ride="carousel">
                        <div class="carousel-inner rounded">
                            @for (int i = 0; i < Model.URLs.Count; i++)
                            {
                                var foto = Model.URLs[i];
                                <div class="carousel-item @(i == 0 ? "active" : "")">
                                    <img src="@foto" class="d-block w-100" style="object-fit: cover; height: 300px;" alt="Imagen @(i + 1)">
                                </div>
                            }
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselFotos" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Anterior</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselFotos" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Siguiente</span>
                        </button>
                    </div>
                }
                else
                {
                    <div class="alert alert-info text-center">No hay fotografías disponibles para esta propiedad.</div>
                }
            </div>
            <div class="d-flex gap-2">
                @if (!string.IsNullOrEmpty(Model.NumeroTelefono))
                {
                    <a href="https://wa.me/@Model.NumeroTelefono" target="_blank" class="btn btn-success d-flex align-items-center gap-2 px-3 py-2">
                        <i class="bi bi-whatsapp"></i>
                        <span>Contactar por WhatsApp</span>
                    </a>
                }
                <a href="mailto:@Model.CorreoElectronico" class="btn btn-primary d-flex align-items-center gap-2 px-3 py-2">
                    <i class="bi bi-envelope"></i>
                    <span>Contactar por Correo</span>
                </a>
            </div>
        </div>

        <!-- 🔙 Botón de volver -->
        <div class="text-center mt-4">
            <a asp-action="Index" class="btn btn-secondary px-5 py-2 d-flex align-items-center justify-content-center gap-2">
                <i class="bi bi-arrow-left"></i>
                <span>Volver al listado</span>
            </a>
        </div>
    </div>
</div>